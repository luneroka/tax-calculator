<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
    <title>Calculateur d'impôt foncier</title>
    <script type="module" , src="js/script.js"></script>
    <script type="module" src="js/view/infoTable/description.js"></script>
    <script type="module" src="js/view/infoTable/prixAchat.js"></script>
  </head>

  <body>
    <div id="tables-container">
      <div id="infos">
        <table>
          <!-- SECTION LOCALISATION -->
          <thead>
            <th class="infos-section" colspan="3">Localisation</th>
          </thead>
          <tbody>
            <tr>
              <td class="row-type">Adresse du bien</td>
              <td class="row-value" colspan="2">
                <textarea cols="25" rows="3" id="adresse" value=""></textarea>
              </td>
            </tr>
          </tbody>

          <!-- SECTION DESCRIPTION -->
          <thead>
            <th class="infos-section" colspan="3">Description</th>
          </thead>
          <tbody id="description-tbody"></tbody>

          <!-- SECTION PRIX D'ACHAT -->
          <thead>
            <th class="infos-section" colspan="3">Prix d'achat</th>
          </thead>
          <tbody class="prix-achat-tbody"></tbody>

          <!-- SECTION EMPRUNT -->
          <thead>
            <th class="infos-section" colspan="3">Emprunt</th>
          </thead>
          <tbody>
            <tr>
              <td class="row-type">Apport</td>
              <td class="row-value user-value">
                <input type="number" id="apport" value="" />
              </td>
              <td class="unit">€</td>
            </tr>
            <tr>
              <td class="row-type">Montant emprunté</td>
              <td class="row-value" id="montant-emprunt"></td>
              <td class="unit">€</td>
            </tr>
            <tr>
              <td class="row-type">Durée</td>
              <td class="row-value user-value">
                <input type="number" id="duree" value="" />
              </td>
              <td class="unit">ans</td>
            </tr>
            <tr>
              <td class="row-type">Taux</td>
              <td class="row-value user-value">
                <input type="number" id="taux" value="" />
              </td>
              <td class="unit">%</td>
            </tr>
            <tr>
              <td class="row-type">Mensualités</td>
              <td class="row-value" id="mensualite"></td>
              <td class="unit">€</td>
            </tr>
          </tbody>
        </table>

        <div id="buttons">
          <button id="reset-tables">Tout effacer</button>
          <button id="toggle-reel">Formulaire 2044</button>
        </div>
      </div>

      <div id="rentabilite">
        <table>
          <thead>
            <th class="rentabilite-section">Loyer</th>
            <th colspan="2">2025</th>
          </thead>
          <tbody>
            <tr>
              <td class="row-type">Loyer mensuel HC</td>
              <td class="row-value user-value">
                <input type="number" id="loyer" value="" />
              </td>
              <td class="unit">€</td>
            </tr>
            <tr>
              <td class="row-type">Charges locatives mensuelles</td>
              <td class="row-value user-value">
                <input type="number" id="charges" value="" />
              </td>
              <td class="unit">€</td>
            </tr>
            <tr>
              <td class="row-type">Revenus locatifs annuels HC</td>
              <td class="row-value" id="revenus-hc"></td>
              <td class="unit">€</td>
            </tr>
            <tr>
              <td class="row-type">Revenus locatifs annuels CC</td>
              <td class="row-value" id="revenus-cc"></td>
              <td class="unit">€</td>
            </tr>
            <tr>
              <td class="row-type">Charges de copro. annuelles</td>
              <td class="row-value user-value">
                <input id="charges-copro" type="number" value="" />
              </td>
              <td class="unit">€</td>
            </tr>
            <tr>
              <td class="row-type">Taxe foncière</td>
              <td class="row-value user-value">
                <input id="taxe-fonciere" type="number" value="" />
              </td>
              <td class="unit">€</td>
            </tr>
          </tbody>
          <thead>
            <th class="rentabilite-section" colspan="3">Impôts</th>
          </thead>
          <tbody>
            <tr>
              <td class="row-type">TMI</td>
              <td class="row-value user-value">
                <select name="tmi" id="tmi-selector">
                  <option value="" selected></option>
                  <option value="0">0</option>
                  <option value="0.11">11</option>
                  <option value="0.3">30</option>
                  <option value="0.41">41</option>
                  <option value="0.45">45</option>
                </select>
              </td>
              <td class="unit">%</td>
            </tr>
            <tr>
              <td class="row-type">Prélèvements sociaux</td>
              <td class="row-value user-value">
                <select name="prelevements-sociaux" id="prelevements-sociaux">
                  <option value="" selected></option>
                  <option value="17.2">17,2</option>
                </select>
              </td>
              <td class="unit">%</td>
            </tr>
            <tr>
              <td class="row-type">Régime d'imposition</td>
              <td class="row-value user-value" id="regime-imposition">
                <select name="regime-imposition" id="regime-selector">
                  <option value="" selected></option>
                  <option value="micro-foncier">Micro-Foncier</option>
                  <option value="reel">Réel</option>
                </select>
              </td>
              <td class="unit"></td>
            </tr>
            <tr>
              <td class="row-type">Impôt annuel</td>
              <td class="row-value" id="impot-annuel"></td>
              <td class="unit">€</td>
            </tr>
          </tbody>
          <thead>
            <th class="rentabilite-section" colspan="3">Rentabilité</th>
          </thead>
          <tbody>
            <tr>
              <td class="row-type">Rendement net</td>
              <td class="row-value" id="rendement"></td>
              <td class="unit">%</td>
            </tr>
            <tr>
              <td class="row-type">Cashflow</td>
              <td class="row-value" id="cashflow"></td>
              <td class="unit">€</td>
            </tr>
            <tr>
              <td class="row-type">Gain/Perte nette annuelle</td>
              <td class="row-value" id="gain-perte"></td>
              <td class="unit">€</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div id="formulaire-reel">
        <table>
          <thead>
            <th id="ligne-title">Ligne</th>
            <th class="rentabilite-section">Formulaire 2044</th>
            <th colspan="2">2025</th>
          </thead>
          <tbody>
            <tr>
              <td class="ligne">215</td>
              <td class="row-type strong">Total recettes</td>
              <td class="row-value strong" id="recettes"></td>
              <td class="unit">€</td>
            </tr>
            <tr>
              <td class="ligne">221</td>
              <td class="row-type">Frais de gestion</td>
              <td class="row-value">
                <input type="number" id="frais-gestion" value="" />
              </td>
              <td class="unit">€</td>
            </tr>
            <tr>
              <td class="ligne">222</td>
              <td class="row-type">Autres frais</td>
              <td class="row-value">
                <input type="number" id="autres-frais" value="" />
              </td>
              <td class="unit">€</td>
            </tr>
            <tr>
              <td class="ligne">223</td>
              <td class="row-type">Assurance de prêt</td>
              <td class="row-value">
                <input type="number" id="assurance-pret" value="" />
              </td>
              <td class="unit">€</td>
            </tr>
            <tr>
              <td class="ligne">223</td>
              <td class="row-type">Assurance PNO</td>
              <td class="row-value">
                <input type="number" id="assurance-pno" value="" />
              </td>
              <td class="unit">€</td>
            </tr>
            <tr>
              <td class="ligne">224</td>
              <td class="row-type">Travaux</td>
              <td class="row-value">
                <input type="number" id="travaux" value="" />
              </td>
              <td class="unit">€</td>
            </tr>
            <tr>
              <td class="ligne">227</td>
              <td class="row-type">Taxe foncière (hors TEOM)</td>
              <td class="row-value">
                <input type="number" id="reel-taxe-fonciere" value="" />
              </td>
              <td class="unit">€</td>
            </tr>
            <tr>
              <td class="ligne">229</td>
              <td class="row-type">Charges de copro</td>
              <td class="row-value">
                <input type="number" id="reel-charges-copro" value="" />
              </td>
              <td class="unit">€</td>
            </tr>
            <tr>
              <td class="ligne">230</td>
              <td class="row-type">Régul charges copro N-1</td>
              <td class="row-value">
                <input type="number" id="regul-charges-copro" value="" />
              </td>
              <td class="unit">€</td>
            </tr>
            <tr>
              <td class="ligne"></td>
              <td class="row-type">Solde copro N-1</td>
              <td class="row-value">
                <input type="number" id="solde-copro" value="" />
              </td>
              <td class="unit">€</td>
            </tr>
            <tr>
              <td class="ligne">240</td>
              <td class="row-type strong">Total frais et charges</td>
              <td class="row-value strong" id="total-frais"></td>
              <td class="unit">€</td>
            </tr>
            <tr>
              <td class="ligne">250</td>
              <td class="row-type">Intérêts d'emprunt</td>
              <td class="row-value">
                <input type="number" id="interets" value="" />
              </td>
              <td class="unit">€</td>
            </tr>
            <tr>
              <td class="ligne"></td>
              <td class="row-type strong">Charges taxables (240+250)</td>
              <td class="row-value strong" id="charges-taxables"></td>
              <td class="unit">€</td>
            </tr>
            <tr>
              <td class="ligne"></td>
              <td class="row-type">CSG Déductible (6,8%)</td>
              <td class="row-value" id="csg"></td>
              <td class="unit">€</td>
            </tr>
            <tr>
              <td class="ligne"></td>
              <td class="row-type strong">Total (Charges + CSG)</td>
              <td class="row-value" id="total-charges"></td>
              <td class="unit">€</td>
            </tr>
            <tr>
              <td class="ligne">260</td>
              <td class="row-type strong">Revenus fonciers taxables</td>
              <td class="row-value strong" id="revenus-taxables"></td>
              <td class="unit">€</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </body>
</html>
